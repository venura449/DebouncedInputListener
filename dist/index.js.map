{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["// Debounce utility\r\nexport function debounce(fn, delay = 500, immediate = false) {\r\n    let timeout;\r\n    return function (...args) {\r\n        const callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => {\r\n            timeout = null;\r\n            if (!immediate) fn.apply(this, args);\r\n        }, delay);\r\n        if (callNow) fn.apply(this, args);\r\n    };\r\n}\r\n\r\n/**\r\n * Attach debounced input listener(s) to input(s).\r\n *\r\n * @param {string} selector - CSS selector\r\n * @param {function} callback - Called after debounce\r\n * @param {object} options - {\r\n *   delay, eventType, minChars, trim, preventDuplicates, immediate\r\n * }\r\n * @returns {function} cleanup - Call this to remove listeners\r\n */\r\nexport function attachDebouncedInputListener(selector, callback, options = {}) {\r\n    const {\r\n        delay = 500,\r\n        eventType = 'input',\r\n        minChars = 0,\r\n        trim = false,\r\n        preventDuplicates = false,\r\n        immediate = false,\r\n    } = options;\r\n\r\n    const elements = document.querySelectorAll(selector);\r\n    if (elements.length === 0) {\r\n        console.warn(`No elements found for selector: ${selector}`);\r\n        return () => {};\r\n    }\r\n\r\n    let lastValue = null;\r\n\r\n    const wrappedCallback = (event) => {\r\n        let value = event.target.value;\r\n        if (trim) value = value.trim();\r\n        if (value.length < minChars) return;\r\n        if (preventDuplicates && value === lastValue) return;\r\n        lastValue = value;\r\n        callback(value, event);\r\n    };\r\n\r\n    const debounced = debounce(wrappedCallback, delay, immediate);\r\n    const attached = [];\r\n\r\n    elements.forEach(el => {\r\n        el.addEventListener(eventType, debounced);\r\n        attached.push({ el, handler: debounced });\r\n    });\r\n\r\n    return function cleanup() {\r\n        attached.forEach(({ el, handler }) => {\r\n            el.removeEventListener(eventType, handler);\r\n        });\r\n    };\r\n}\r\n\r\n// üîç Live Search Helper\r\nexport function attachDebouncedLiveSearch(selector, searchFn, options = {}) {\r\n    return attachDebouncedInputListener(selector, (value, event) => {\r\n        searchFn(value, event);\r\n    }, {\r\n        ...options,\r\n        minChars: options.minChars ?? 2,\r\n        trim: true,\r\n        preventDuplicates: true\r\n    });\r\n}\r\n\r\n// ‚úÖ Validation Helper\r\nexport function attachDebouncedValidation(selector, validateFn, options = {}) {\r\n    return attachDebouncedInputListener(selector, (value, event) => {\r\n        const isValid = validateFn(value);\r\n        const el = event.target;\r\n        el.setCustomValidity(isValid ? '' : 'Invalid input');\r\n        el.reportValidity?.();\r\n    }, {\r\n        ...options,\r\n        trim: true\r\n    });\r\n}\r\n\r\n// üíæ Auto-Save Input Helper\r\nexport function attachAutoSaveInput(selector, saveFn, options = {}) {\r\n    return attachDebouncedInputListener(selector, (value, event) => {\r\n        saveFn(value, event);\r\n    }, {\r\n        ...options,\r\n        trim: true,\r\n        preventDuplicates: true\r\n    });\r\n}\r\n\r\n// üìè Pattern Validator\r\nexport function validatePattern(pattern, value) {\r\n    if (!pattern || typeof value !== 'string') return false;\r\n    const regex = typeof pattern === 'string' ? new RegExp(pattern) : pattern;\r\n    return regex.test(value);\r\n}\r\n\r\n// üìß Email Validator\r\nexport function isValidEmail(value) {\r\n    return validatePattern(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/, value);\r\n}\r\n\r\n// üìû Phone Validator\r\nexport function isValidPhone(value) {\r\n    return validatePattern(/^\\+?[\\d\\s\\-().]{7,}$/, value);\r\n}\r\n"],"names":["debounce","fn","delay","immediate","timeout","args","callNow","clearTimeout","setTimeout","apply","this","attachDebouncedInputListener","selector","callback","options","eventType","minChars","trim","preventDuplicates","elements","document","querySelectorAll","length","console","warn","lastValue","debounced","event","value","target","attached","forEach","el","addEventListener","push","handler","removeEventListener","attachDebouncedLiveSearch","searchFn","attachDebouncedValidation","validateFn","isValid","setCustomValidity","reportValidity","attachAutoSaveInput","saveFn","validatePattern","pattern","RegExp","test","isValidEmail","isValidPhone"],"mappings":"AACO,SAASA,EAASC,EAAIC,EAAQ,IAAKC,GAAY,GAClD,IAAIC,EACJ,OAAO,YAAaC,GAChB,MAAMC,EAAUH,IAAcC,EAC9BG,aAAaH,GACbA,EAAUI,WAAW,KACjBJ,EAAU,KACLD,GAAWF,EAAGQ,MAAMC,KAAML,IAChCH,GACCI,GAASL,EAAGQ,MAAMC,KAAML,EACpC,CACA,CAYO,SAASM,EAA6BC,EAAUC,EAAUC,EAAU,CAAA,GACvE,MAAMZ,MACFA,EAAQ,IAAGa,UACXA,EAAY,QAAOC,SACnBA,EAAW,EAACC,KACZA,GAAO,EAAKC,kBACZA,GAAoB,EAAKf,UACzBA,GAAY,GACZW,EAEEK,EAAWC,SAASC,iBAAiBT,GAC3C,GAAwB,IAApBO,EAASG,OAET,OADAC,QAAQC,KAAK,mCAAmCZ,KACzC,OAGX,IAAIa,EAAY,KAEhB,MASMC,EAAY1B,EATO2B,IACrB,IAAIC,EAAQD,EAAME,OAAOD,MACrBX,IAAMW,EAAQA,EAAMX,QACpBW,EAAMN,OAASN,GACfE,GAAqBU,IAAUH,IACnCA,EAAYG,EACZf,EAASe,EAAOD,KAGwBzB,EAAOC,GAC7C2B,EAAW,GAOjB,OALAX,EAASY,QAAQC,IACbA,EAAGC,iBAAiBlB,EAAWW,GAC/BI,EAASI,KAAK,CAAEF,KAAIG,QAAST,MAG1B,WACHI,EAASC,QAAQ,EAAGC,KAAIG,cACpBH,EAAGI,oBAAoBrB,EAAWoB,IAE9C,CACA,CAGO,SAASE,EAA0BzB,EAAU0B,EAAUxB,EAAU,CAAA,GACpE,OAAOH,EAA6BC,EAAU,CAACgB,EAAOD,KAClDW,EAASV,EAAOD,IACjB,IACIb,EACHE,SAAUF,EAAQE,UAAY,EAC9BC,MAAM,EACNC,mBAAmB,GAE3B,CAGO,SAASqB,EAA0B3B,EAAU4B,EAAY1B,EAAU,CAAA,GACtE,OAAOH,EAA6BC,EAAU,CAACgB,EAAOD,KAClD,MAAMc,EAAUD,EAAWZ,GACrBI,EAAKL,EAAME,OACjBG,EAAGU,kBAAkBD,EAAU,GAAK,iBACpCT,EAAGW,oBACJ,IACI7B,EACHG,MAAM,GAEd,CAGO,SAAS2B,EAAoBhC,EAAUiC,EAAQ/B,EAAU,CAAA,GAC5D,OAAOH,EAA6BC,EAAU,CAACgB,EAAOD,KAClDkB,EAAOjB,EAAOD,IACf,IACIb,EACHG,MAAM,EACNC,mBAAmB,GAE3B,CAGO,SAAS4B,EAAgBC,EAASnB,GACrC,IAAKmB,GAA4B,iBAAVnB,EAAoB,OAAO,EAElD,OADiC,iBAAZmB,EAAuB,IAAIC,OAAOD,GAAWA,GACrDE,KAAKrB,EACtB,CAGO,SAASsB,EAAatB,GACzB,OAAOkB,EAAgB,6BAA8BlB,EACzD,CAGO,SAASuB,EAAavB,GACzB,OAAOkB,EAAgB,uBAAwBlB,EACnD"}